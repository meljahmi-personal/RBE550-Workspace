<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="785px" preserveAspectRatio="none" style="width:1357px;height:785px;" version="1.1" viewBox="0 0 1357 785" width="1357px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ke939j4bn8r7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="471" x="444" y="26.708">rbe550_grid_bench - bench_all sequence (7 planners)</text><rect fill="#FFFFFF" filter="url(#f1ke939j4bn8r7)" height="307.3359" style="stroke: #000000; stroke-width: 2.0;" width="1131" x="215" y="315.3125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="121.25" y2="697.9141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="273" x2="273" y1="121.25" y2="697.9141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="495.5" x2="495.5" y1="121.25" y2="697.9141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="738.5" x2="738.5" y1="121.25" y2="697.9141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="903.5" x2="903.5" y1="121.25" y2="697.9141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1136" x2="1136" y1="121.25" y2="697.9141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1291" x2="1291" y1="121.25" y2="697.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="117.9482">User</text><ellipse cx="27" cy="47.9531" fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,55.9531 L27,82.9531 M14,63.9531 L40,63.9531 M27,82.9531 L14,97.9531 M27,82.9531 L40,97.9531 " fill="none" filter="url(#f1ke939j4bn8r7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="709.9092">User</text><ellipse cx="27" cy="723.2109" fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,731.2109 L27,758.2109 M14,739.2109 L40,739.2109 M27,758.2109 L14,773.2109 M27,758.2109 L40,773.2109 " fill="none" filter="url(#f1ke939j4bn8r7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="225" y="69.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="232" y="89.6514">bench (CLI)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="254" y="105.9482">cli.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="225" y="696.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="232" y="716.9092">bench (CLI)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="254" y="733.2061">cli.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="428.5" y="69.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="446" y="89.6514">BenchRunner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="435.5" y="105.9482">bench_runner.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="428.5" y="696.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="446" y="716.9092">BenchRunner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="435.5" y="733.2061">bench_runner.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="689.5" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="696.5" y="105.9482">grid_utils.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="689.5" y="696.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="696.5" y="716.9092">grid_utils.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="62.8906" style="stroke: #A80036; stroke-width: 1.5;" width="207" x="798.5" y="53.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="851" y="73.3545">Planner facade</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="805.5" y="89.6514">(bfs_facade, dijkstra_facade,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="855" y="105.9482">... jps_facade)</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="62.8906" style="stroke: #A80036; stroke-width: 1.5;" width="207" x="798.5" y="696.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="851" y="716.9092">Planner facade</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="805.5" y="733.2061">(bfs_facade, dijkstra_facade,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="855" y="749.5029">... jps_facade)</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="198" x="1035" y="69.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="1074" y="89.6514">Concrete planner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="1042" y="105.9482">(BFSPlanner … JPSPlanner)</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="198" x="1035" y="696.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="1074" y="716.9092">Concrete planner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="1042" y="733.2061">(BFSPlanner … JPSPlanner)</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1247" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1254" y="105.9482">metrics.py</text><rect fill="#FEFECE" filter="url(#f1ke939j4bn8r7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1247" y="696.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1254" y="716.9092">metrics.py</text><polygon fill="#A80036" points="261,163.5156,271,167.5156,261,171.5156,265,167.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="267" y1="167.5156" y2="167.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="34" y="147.3169">ros2 run rbe550_grid_bench bench</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="line-through" textLength="80" x="34" y="162.4497">algo &lt;algo&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="118" y="162.4497">grid 64 --moves 8 ...</text><polygon fill="#A80036" points="484,207.7813,494,211.7813,484,215.7813,488,211.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="490" y1="211.7813" y2="211.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="280" y="191.5825">main(args)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="280" y="206.7153">run_bench(args)</text><polygon fill="#A80036" points="727,252.0469,737,256.0469,727,260.0469,731,256.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="733" y1="256.0469" y2="256.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="503" y="235.8481">make_random_grid(size, fill, seed)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="503" y="250.981">(or load_grid_from_ascii)</text><polygon fill="#A80036" points="507,296.3125,497,300.3125,507,304.3125,503,300.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="501" x2="738" y1="300.3125" y2="300.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="513" y="280.1138">Grid (obstacle map,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="513" y="295.2466">start_rc, goal_rc)</text><path d="M215,315.3125 L292,315.3125 L292,322.3125 L282,332.3125 L215,332.3125 L215,315.3125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="307.3359" style="stroke: #000000; stroke-width: 2.0;" width="1131" x="215" y="315.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="230" y="328.3794">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="253" x="307" y="327.5229">[For each algo in {bfs, dijkstra, greedy,</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="253" x="307" y="340.3276">astar, weighted_astar, theta_star, jps}]</text><polygon fill="#A80036" points="484,375.3203,494,379.3203,484,383.3203,488,379.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="490" y1="379.3203" y2="379.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="280" y="359.1216">run_planner(algo, grid,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="320" y="374.2544">start_rc, goal_rc, moves)</text><polygon fill="#A80036" points="892,419.5859,902,423.5859,892,427.5859,896,423.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="898" y1="423.5859" y2="423.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="503" y="403.3872">plan(grid_rc, start_rc,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="523" y="418.52">goal_rc, neighbors_fn)</text><polygon fill="#A80036" points="1124,463.8516,1134,467.8516,1124,471.8516,1128,467.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="904" x2="1130" y1="467.8516" y2="467.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="911" y="447.6528">plan(obst, startXY,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="931" y="462.7856">goalXY, neighbors_fn)</text><polygon fill="#A80036" points="915,508.1172,905,512.1172,915,516.1172,911,512.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="909" x2="1135" y1="512.1172" y2="512.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="921" y="491.9185">PlanResult</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="921" y="507.0513">(path, nodes_expanded, cost,…)</text><polygon fill="#A80036" points="507,537.25,497,541.25,507,545.25,503,541.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="501" x2="903" y1="541.25" y2="541.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="513" y="536.1841">PathStats</text><polygon fill="#A80036" points="1279.5,581.5156,1289.5,585.5156,1279.5,589.5156,1283.5,585.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="1285.5" y1="585.5156" y2="585.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="503" y="565.3169">write_csv(PathStats,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="535" y="580.4497">csv_path)</text><polygon fill="#A80036" points="507,610.6484,497,614.6484,507,618.6484,503,614.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="501" x2="1290.5" y1="614.6484" y2="614.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="513" y="609.5825">CSV row appended</text><polygon fill="#A80036" points="284,646.7813,274,650.7813,284,654.7813,280,650.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="495" y1="650.7813" y2="650.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="290" y="645.7153">overall summary</text><polygon fill="#A80036" points="38,675.9141,28,679.9141,38,683.9141,34,679.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="272" y1="679.9141" y2="679.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="44" y="674.8481">print metrics, CSV location</text><!--MD5=[65d5150f362744fe6b619241add98583]
@startuml bench_all_sequence
title rbe550_grid_bench - bench_all sequence (7 planners)

actor User as U
participant "bench (CLI)\ncli.py" as CLI
participant "BenchRunner\nbench_runner.py" as BR
participant "grid_utils.py" as GU
participant "Planner facade\n(bfs_facade, dijkstra_facade,\n... jps_facade)" as FAC
participant "Concrete planner\n(BFSPlanner … JPSPlanner)" as PL
participant "metrics.py" as MET

note top
bench_all / run_all_benchmarks.sh runs the
same problem instance with 7 algorithms:
  • BFS
  • Dijkstra
  • Greedy
  • A*
  • Weighted A*
  • Theta*
  • JPS
end note

U -> CLI: ros2 run rbe550_grid_bench bench\n- -algo <algo> - -grid 64 - -moves 8 ...
CLI -> BR: main(args)\nrun_bench(args)

BR -> GU: make_random_grid(size, fill, seed)\n(or load_grid_from_ascii)
GU - -> BR: Grid (obstacle map,\nstart_rc, goal_rc)

loop For each algo in {bfs, dijkstra, greedy,\nastar, weighted_astar, theta_star, jps}
  CLI -> BR: run_planner(algo, grid,\n          start_rc, goal_rc, moves)

  BR -> FAC: plan(grid_rc, start_rc,\n     goal_rc, neighbors_fn)
  FAC -> PL: plan(obst, startXY,\n     goalXY, neighbors_fn)
  PL - -> FAC: PlanResult\n(path, nodes_expanded, cost,…)
  FAC - -> BR: PathStats

  BR -> MET: write_csv(PathStats,\n        csv_path)
  MET - -> BR: CSV row appended
end

BR - -> CLI: overall summary
CLI - -> U: print metrics, CSV location

@enduml

PlantUML version 1.2020.02(Sun Mar 01 05:22:07 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.29+7-post-Ubuntu-1ubuntu122.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>